The User model represents a user and has the attributes user_id, name, email, password, address, and phone. It also has a checkPassword method that uses bcrypt to compare the provided login password with the stored user password.

The UserPaymentMethod model is a representation of a user's payment method. It has a primary key payment_method_id which auto-increments upon insertion. The user_id field is a foreign key that refers to the user model's primary key. The card_number, expiration_date, and cvv fields are all required strings representing the user's card details. The model has no timestamps and is set to freeze the table name to ensure it does not change in the future. The model's associations state that a User has many payment methods, and a payment method belongs to a User.

The UserProduct model represents a product that a user has for sale and has attributes such as product_id, user_id, seller_name, product_name, description, category, quantity, price, and image_url. It also has associations with the User model since a user can have multiple products, and a product belongs to only one user. The many-to-one association is established through the user_id foreign key attribute.

The UserShoppingCart model represents a user's shopping cart and has the attributes cart_id, user_id, product_id, quantity, and date_added. It also has associations with the User and Product models. Specifically, a user has one shopping cart, and a shopping cart can belong to only one user. Additionally, a shopping cart can have multiple products, and a product can be in multiple shopping carts. These many-to-many associations are established through the CartProduct model, which has a cart_id, product_id, and quantity attribute.

The CartProduct model is used as a through table to establish the many-to-many relationship between the UserShoppingCart and Product models. It has a cart_product_id, cart_id, product_id, and quantity attribute, and associations with the UserShoppingCart and Product models.

The UnregisteredShoppingCart model represents an unregistered user's shopping cart and has the attributes cart_id and date_added. It also has a many-to-many association with the Product model through the UnregisteredCartProduct model. This association allows multiple products to be added to the unregistered user's shopping cart, and a product can be in multiple unregistered user's shopping carts.

The UnregisteredCartProduct model represents the many-to-many association between the UnregisteredShoppingCart and Product models. It has the attributes unregistered_cart_product_id, cart_id, product_id, and quantity. The cart_id attribute references the cart_id attribute of the UnregisteredShoppingCart model, and the product_id attribute references the product_id attribute of the Product model. This model allows the quantity of a product to be stored in a specific unregistered user's shopping cart.

The PurchaseHistory model represents a purchase history item and has the attributes purchase_id, user_id, product_id, quantity, and purchase_date. It also has associations with the User and Product models. Specifically, a user can have multiple purchase history items, and a purchase history item belongs to only one user. Additionally, a purchase history item can be associated with one product, and a product can have multiple purchase history items. These associations are established through the User and Product models' hasMany and belongsTo methods, respectively.